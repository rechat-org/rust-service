replicaCount: 2

image:
  repository: registry.digitalocean.com/chat-service/chat-api
  tag: "50fe4e9"
  pullPolicy: Always

nameOverride: ""
fullnameOverride: ""

service:
  type: ClusterIP
  port: 3000

ingress:
  enabled: true
  className: nginx
  annotations:
    kubernetes.io/ingress.class: nginx
    # WebSocket support annotations
    nginx.ingress.kubernetes.io/proxy-read-timeout: "3600"
    nginx.ingress.kubernetes.io/proxy-send-timeout: "3600"
    nginx.ingress.kubernetes.io/proxy-http-version: "1.1"
    nginx.ingress.kubernetes.io/proxy-buffering: "off"
    nginx.ingress.kubernetes.io/websocket-services: "chat-service"
    # SSL and Cert-Manager annotations
    cert-manager.io/cluster-issuer: letsencrypt-prod
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
  hosts:
    - host: "api.rechat.cloud"
      paths:
        - path: /
          pathType: Prefix

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 200m
    memory: 256Mi

envVars:
  DATABASE_URL: ""
  REDIS_URL: ""
  PORT: "3000"
  HOST: "0.0.0.0"

# Add ClusterIssuer configuration
clusterIssuer:
  enabled: true
  email: paschalidi@outlook.com